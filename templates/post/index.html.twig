{% extends 'base.html.twig' %}
{% import 'macros/post.html.twig' as p %}

{% block main %}
  <div class="nk-main">
    <!-- START: Breadcrumbs -->
    <div class="nk-gap-1"></div>
    <div class="container">
      <ul class="nk-breadcrumbs">
        <li><a href="{{ path('app_home') }}">Home</a></li>
        <li><span class="fa fa-angle-right"></span></li>
        <li><a href="#">Blog</a></li>
        <li><span class="fa fa-angle-right"></span></li>
        <li><span>{{ post.title }}</span></li>
      </ul>
    </div>
    <div class="nk-gap-1"></div>
    <!-- END: Breadcrumbs -->
    <div class="container">
      <div class="row vertical-gap">
        <div class="col-lg-8">
          <div class="nk-post-img">
            <img src="{{ asset('uploads/posts/' ~ post.image ) }}" alt="{{ post.title }}">
          </div>
          <div class="nk-gap"></div>
          <!-- START: Post -->
          <div class="nk-blog-post nk-blog-post-single">
            <!-- START: Post Text -->
            <div class="nk-post-text mt-0">
              {{ post.text|remove_html_entities }}
            </div>
            <!-- END: Post Text -->

            <div class="nk-gap"></div>
            <!-- START: Comments -->
            <div id="comments"></div>
            <h3 class="nk-decorated-h-2"><span><span class="text-main-1">3</span> Comments</span></h3>
            <div class="nk-gap"></div>
            <div class="nk-comments">
                <!-- START: Comment -->

                <!-- END: Comment -->
            </div>

            <!-- START: Reply -->
            <div class="nk-gap-2"></div>
            <h3 class="nk-decorated-h-2"><span><span class="text-main-1">Leave</span> a Reply</span></h3>
            <div class="nk-gap"></div>
            <div class="nk-reply">
                {% include 'post/_reply.html.twig' %}
            </div>
            <!-- END: Reply -->
          </div>
          <!-- END: Post -->
        </div>
        <div class="col-lg-4">

          <aside class="nk-sidebar nk-sidebar-right nk-sidebar-sticky">
            <div class="nk-widget">
              <div class="nk-widget-content">
                <form action="#" class="nk-form nk-form-style-1" novalidate="novalidate">
                  <div class="input-group">
                    // TODO
                    <input type="text" class="form-control" placeholder="Type something...">
                    <button class="nk-btn nk-btn-color-main-1"><span class="ion-search"></span></button>
                  </div>
                </form>
              </div>
            </div>

            <div class="nk-widget nk-widget-highlighted">
              <h4 class="nk-widget-title"><span><span class="text-main-1">Top 3</span> Recent</span></h4>
              <div class="nk-widget-content">
                // TODO
              </div>
            </div>


            <div class="nk-widget nk-widget-highlighted">
              <h4 class="nk-widget-title"><span><span class="text-main-1">Most</span> Popular</span></h4>
              <div class="nk-widget-content">
                // TODO
              </div>
            </div>
          </aside>

        </div>
      </div>
    </div>
{% endblock %}

{% block latest_posts %}
    {% for post in posts %}
      {% if loop.index <= 2 %}
        {{ p.latest_posts_footer(post) }}
      {% endif %}
    {% endfor %}
{% endblock %}